---
phase: 04-project-detail-pages
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/[locale]/projects/[id]/page.tsx
  - src/components/projects/ProjectHero.tsx
  - src/components/projects/ProjectSidebar.tsx
  - src/components/projects/ProjectContent.tsx
  - src/components/projects/ProjectNavigation.tsx
  - src/components/projects/Breadcrumbs.tsx
  - src/components/sections/ProjectsSection.tsx
  - src/app/globals.css
  - messages/ko.json
  - messages/en.json
autonomous: true

must_haves:
  truths:
    - "User can click project card on main page and navigate to /projects/1, /projects/2, or /projects/3"
    - "Project detail page renders with hero, sidebar metadata, content area, breadcrumbs, and prev/next navigation"
    - "Page displays correctly on mobile (sidebar stacks above content) and desktop (sidebar sticky beside content)"
    - "Invalid project IDs (e.g. /projects/999) show 404 page"
    - "Page has fade-in entrance animation"
  artifacts:
    - path: "src/app/[locale]/projects/[id]/page.tsx"
      provides: "Dynamic route page with generateStaticParams, setRequestLocale, param validation"
      exports: ["default", "generateStaticParams"]
    - path: "src/components/projects/ProjectHero.tsx"
      provides: "Hero section with title, subtitle, tech badges, image placeholder"
    - path: "src/components/projects/ProjectSidebar.tsx"
      provides: "Metadata sidebar with tech stack, role, team size, duration, links"
    - path: "src/components/projects/ProjectContent.tsx"
      provides: "Main content area rendering translation-driven narrative sections"
    - path: "src/components/projects/ProjectNavigation.tsx"
      provides: "Prev/next project navigation at page bottom"
    - path: "src/components/projects/Breadcrumbs.tsx"
      provides: "Breadcrumb trail: Home > Projects > [Project Name]"
  key_links:
    - from: "src/components/sections/ProjectsSection.tsx"
      to: "/projects/[id]"
      via: "next-intl Link component wrapping each project card"
      pattern: "Link.*href.*projects"
    - from: "src/app/[locale]/projects/[id]/page.tsx"
      to: "src/components/projects/*.tsx"
      via: "imports and renders all project detail components"
      pattern: "import.*ProjectHero|ProjectSidebar|ProjectContent"
    - from: "src/app/[locale]/projects/[id]/page.tsx"
      to: "messages/*.json"
      via: "getTranslations('ProjectDetail') for bilingual content"
      pattern: "getTranslations.*ProjectDetail"
---

<objective>
Build the project detail page route infrastructure, all UI components, and wire project cards to detail pages.

Purpose: Create the complete page structure for project case studies so that the content plan (04-02) only needs to fill in translation content.
Output: Working dynamic route at /projects/[id] with hero, sidebar, content, breadcrumbs, and prev/next navigation. Project cards on main page link to detail pages.
</objective>

<execution_context>
@/Users/hipark/.claude/get-shit-done/workflows/execute-plan.md
@/Users/hipark/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-project-detail-pages/04-RESEARCH.md
@.planning/phases/04-project-detail-pages/04-CONTEXT.md
@src/app/[locale]/layout.tsx
@src/app/[locale]/page.tsx
@src/components/sections/ProjectsSection.tsx
@src/components/ui/Card.tsx
@src/components/ui/Badge.tsx
@src/i18n/routing.ts
@src/i18n/navigation.ts
@src/app/globals.css
@messages/ko.json
@messages/en.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create project detail page route and all components</name>
  <files>
    src/app/[locale]/projects/[id]/page.tsx
    src/components/projects/ProjectHero.tsx
    src/components/projects/ProjectSidebar.tsx
    src/components/projects/ProjectContent.tsx
    src/components/projects/ProjectNavigation.tsx
    src/components/projects/Breadcrumbs.tsx
    src/app/globals.css
  </files>
  <action>
    **1. Create `src/app/[locale]/projects/[id]/page.tsx`:**
    - Import `setRequestLocale`, `getTranslations` from `next-intl/server`
    - Import `notFound` from `next/navigation`
    - Import `routing` from `@/i18n/routing`
    - Import all project components from `@/components/projects/`
    - Define `PROJECT_IDS = ['1', '2', '3'] as const` with type guard `isValidProjectId`
    - `generateStaticParams()`: return `routing.locales.flatMap(locale => PROJECT_IDS.map(id => ({ locale, id })))`
    - Page component: `async function ProjectDetailPage({ params }: { params: Promise<{ locale: string; id: string }> })`
      - `const { locale, id } = await params;`
      - `setRequestLocale(locale);`
      - Validate id with `isValidProjectId`, call `notFound()` if invalid
      - `const t = await getTranslations('ProjectDetail');`
      - Define project metadata mapping (id -> translationKey, techStack array, githubUrl, liveUrl). Use the same 3 projects:
        - id '1': joshua, techStack: ['Electron', 'Angular', 'FastAPI', 'PostgreSQL', 'KoGPT-2', 'Stripe']
        - id '2': dyCms, techStack: ['Next.js', 'NestJS', 'PostgreSQL', 'TypeScript']
        - id '3': retailAnalysis, techStack: ['Pytorch', 'YOLO', 'VanillaJS']
      - Render layout structure:
        ```
        <div className="animate-fade-in">
          <Breadcrumbs projectTitle={t(`${key}.title`)} />
          <ProjectHero title={...} subtitle={...} techStack={...} />
          <div className="grid grid-cols-1 lg:grid-cols-[280px_1fr] gap-8">
            <ProjectSidebar meta={...} />
            <ProjectContent translationKey={key} />
          </div>
          <ProjectNavigation currentId={id} />
        </div>
        ```
      - Wrap everything in `max-w-5xl mx-auto px-4 py-12`

    **2. Create `src/components/projects/Breadcrumbs.tsx`:**
    - Client component (`'use client'`)
    - Import `Link` from `@/i18n/navigation`, `useTranslations` from `next-intl`
    - Import `ChevronRight` from `lucide-react`
    - Props: `{ projectTitle: string }`
    - Render: `<nav aria-label="Breadcrumb">` with `<ol>` containing:
      - Home link (using `Link href="/"` with `t('home')` from Navigation namespace)
      - ChevronRight separator (aria-hidden)
      - Projects link (using `Link href="/#projects"` with `t('projects')` from Navigation namespace)
      - ChevronRight separator (aria-hidden)
      - Current project title (`aria-current="page"`)
    - Styling: `text-sm text-neutral-500 dark:text-neutral-400`, links have hover state, current item is `text-neutral-900 dark:text-neutral-100`

    **3. Create `src/components/projects/ProjectHero.tsx`:**
    - Async server component (NO 'use client')
    - Props: `{ title: string; subtitle: string; techStack: string[]; }`
    - Render:
      - Title: `<h1 className="text-3xl md:text-4xl font-bold mb-3">`
      - Subtitle: `<p className="text-lg text-neutral-600 dark:text-neutral-400 mb-4">`
      - Tech badges: `<div className="flex flex-wrap gap-2 mb-8">` using Badge component
      - Image placeholder: `<div className="w-full h-[300px] md:h-[400px] bg-neutral-100 dark:bg-neutral-900 rounded-lg border border-neutral-200 dark:border-neutral-800 flex items-center justify-center">` with "Project Screenshot" text in neutral-400

    **4. Create `src/components/projects/ProjectSidebar.tsx`:**
    - Async server component
    - Import `getTranslations` from `next-intl/server`
    - Import `Github, ExternalLink, Calendar, Users, Briefcase` from `lucide-react`
    - Props: `{ meta: { translationKey: string; techStack: string[]; githubUrl?: string; liveUrl?: string; } }`
    - Use `const t = await getTranslations('ProjectDetail');` to get localized sidebar labels and project-specific values
    - Render inside `<aside className="lg:sticky lg:top-24 lg:h-fit space-y-6">` wrapped in a border card:
      - Role section: icon + label + value from `t(`${key}.role`)`
      - Team size section: icon + label + value from `t(`${key}.teamSize`)`
      - Duration section: icon + label + value from `t(`${key}.duration`)`
      - Tech stack section: Badge components for each tech
      - Links section: GitHub and external link if provided, with proper `target="_blank" rel="noopener noreferrer"`
    - Labels for "Role", "Team Size", "Duration", "Tech Stack", "Links" should come from translation keys `ProjectDetail.sidebar.role`, `ProjectDetail.sidebar.teamSize`, etc.

    **5. Create `src/components/projects/ProjectContent.tsx`:**
    - Async server component
    - Import `getTranslations` from `next-intl/server`
    - Props: `{ translationKey: string }`
    - Use `const t = await getTranslations('ProjectDetail');`
    - Render main content area with sections. Use `t.has()` to conditionally render sections:
      - Overview section: `t(`${key}.overview.title`)` as h2, `t(`${key}.overview.background`)` as paragraph, `t(`${key}.overview.contribution`)` as paragraph
      - Implementation sections: Render `t(`${key}.implementation.title`)` as h2, then iterate over feature subsections. Use a helper array of feature keys (e.g., `['feature1', 'feature2', 'feature3']`) and check `t.has(`${key}.implementation.${featureKey}.title`)` to conditionally render each:
        - Feature title as h3
        - Problem paragraph
        - Solution paragraph
        - Result/outcome paragraph
      - Troubleshooting section: `t(`${key}.troubleshooting.title`)` as h2, then iterate over issue keys similarly
      - Retrospective section: `t(`${key}.retrospective.title`)` as h2 with paragraphs
    - Styling: prose-like typography with proper spacing. Use `space-y-12` between major sections, `space-y-6` within sections. Headings: h2 `text-2xl font-bold`, h3 `text-xl font-semibold`. Paragraphs: `text-neutral-700 dark:text-neutral-300 leading-relaxed`
    - Architecture diagram placeholder: After overview, include a `<div className="w-full h-[200px] bg-neutral-100 dark:bg-neutral-900 rounded-lg border ...">` with "Architecture Diagram" placeholder text

    **6. Create `src/components/projects/ProjectNavigation.tsx`:**
    - Client component (`'use client'`)
    - Import `Link` from `@/i18n/navigation`, `useTranslations` from `next-intl`
    - Import `ChevronLeft, ChevronRight` from `lucide-react`
    - Props: `{ currentId: string }`
    - Define `PROJECT_ORDER = ['1', '2', '3'] as const`
    - Calculate prevId and nextId based on currentIndex
    - Use `const t = useTranslations('ProjectDetail');` to get project titles for prev/next labels
    - Define project translation key mapping: `{ '1': 'joshua', '2': 'dyCms', '3': 'retailAnalysis' }`
    - Render: `<nav className="flex justify-between items-center py-8 mt-12 border-t border-neutral-200 dark:border-neutral-800">`
      - Prev link (if exists): `<Link href="/projects/${prevId}">` with ChevronLeft + project title
      - Next link (if exists): `<Link href="/projects/${nextId}">` with project title + ChevronRight
      - Empty `<div />` spacer for missing prev/next

    **7. Add fade-in animation to `src/app/globals.css`:**
    - Add `@keyframes fade-in` (opacity 0 -> 1) and `.animate-fade-in { animation: fade-in 0.3s ease-out forwards; }`
    - Add reduced-motion media query for `.animate-fade-in` (same pattern as existing `animate-fade-in-up`)
  </action>
  <verify>
    Run `npx next build` — should compile with no errors. The page will show placeholder/empty content since full translations come in Plan 02, but the structure and components should render.
  </verify>
  <done>
    All 6 project detail components exist and compile. Dynamic route at /[locale]/projects/[id] renders with hero, sidebar, content area, breadcrumbs, and prev/next navigation. Invalid IDs return 404. Fade-in animation applied.
  </done>
</task>

<task type="auto">
  <name>Task 2: Wire project cards to detail pages and add stub translations</name>
  <files>
    src/components/sections/ProjectsSection.tsx
    messages/ko.json
    messages/en.json
  </files>
  <action>
    **1. Update `src/components/sections/ProjectsSection.tsx`:**
    - Import `Link` from `@/i18n/navigation`
    - Change the project data to include id numbers: joshua='1', dyCms='2', retailAnalysis='3'
    - Wrap each Card in a `<Link href={`/projects/${project.id}`}>` element
    - Remove `hover` prop from Card (Link handles interaction)
    - Add `group` class to Link, and `group-hover:border-primary-500 transition-colors` to Card
    - Add a "View Details" text at bottom of card: `<span className="text-sm text-primary-500 mt-3 inline-block">{t('viewDetails')}</span>` (translation key already exists)

    **2. Add stub `ProjectDetail` translations to `messages/ko.json` and `messages/en.json`:**

    These stubs provide the minimum translation keys that all components need to render. Plan 04-02 will replace these with full Korean portfolio narrative content.

    Add to both ko.json and en.json a `"ProjectDetail"` top-level key with:
    ```json
    "ProjectDetail": {
      "sidebar": {
        "role": "역할" / "Role",
        "teamSize": "팀 규모" / "Team Size",
        "duration": "기간" / "Duration",
        "techStack": "기술 스택" / "Tech Stack",
        "links": "링크" / "Links"
      },
      "joshua": {
        "title": "Joshua AI Agent",
        "subtitle": "KoGPT-2 기반 AI 카피라이팅 에이전트" / "AI Copywriting Agent powered by KoGPT-2",
        "role": "프론트엔드 개발" / "Frontend Development",
        "teamSize": "4명" / "4 members",
        "duration": "2022.06 - 2023.03" / "Jun 2022 - Mar 2023",
        "overview": { "title": "프로젝트 개요" / "Project Overview", "background": "...", "contribution": "..." },
        "implementation": { "title": "기술 구현" / "Technical Implementation" },
        "troubleshooting": { "title": "트러블슈팅" / "Troubleshooting" },
        "retrospective": { "title": "회고" / "Retrospective", "growth": "...", "improvement": "..." }
      },
      "dyCms": {
        "title": "DY Microfinance CMS",
        "subtitle": "고객 관리 시스템" / "Customer Management System",
        "role": "풀스택 개발" / "Full-stack Development",
        "teamSize": "1명 (솔로)" / "1 member (Solo)",
        "duration": "2024.07 - 2025.06" / "Jul 2024 - Jun 2025",
        "overview": { "title": "프로젝트 개요" / "Project Overview", "background": "...", "contribution": "..." },
        "implementation": { "title": "기술 구현" / "Technical Implementation" },
        "troubleshooting": { "title": "트러블슈팅" / "Troubleshooting" },
        "retrospective": { "title": "회고" / "Retrospective", "growth": "...", "improvement": "..." }
      },
      "retailAnalysis": {
        "title": "리테일 매장 고객 행동 분석" / "Retail Store Customer Analysis",
        "subtitle": "시각지능 기반 고객 동선 분석 시스템" / "Visual Intelligence-based Customer Tracking System",
        "role": "데이터 시각화 개발" / "Data Visualization Development",
        "teamSize": "3명" / "3 members",
        "duration": "2022.11 - 2023.04" / "Nov 2022 - Apr 2023",
        "overview": { "title": "프로젝트 개요" / "Project Overview", "background": "...", "contribution": "..." },
        "implementation": { "title": "기술 구현" / "Technical Implementation" },
        "troubleshooting": { "title": "트러블슈팅" / "Troubleshooting" },
        "retrospective": { "title": "회고" / "Retrospective", "growth": "...", "improvement": "..." }
      }
    }
    ```

    For the stub content (overview.background, overview.contribution, retrospective.growth, retrospective.improvement), use brief 1-sentence placeholders based on PROJECT.md facts. Plan 04-02 will expand these into full Korean portfolio-standard narratives.

    **Important:** The `implementation` and `troubleshooting` sections should have empty feature/issue sub-keys in the stubs — Plan 04-02 will populate these with detailed Problem -> Solution -> Result narratives.
  </action>
  <verify>
    1. Run `npx next build` — no errors
    2. Run `npx next dev` and verify:
       - Click project card on main page navigates to /ko/projects/1 (or /en/projects/1)
       - Project detail page shows breadcrumbs, hero, sidebar, content, and prev/next navigation
       - Navigate between projects using prev/next buttons
       - Switch language and verify page renders in both languages
       - Visit /ko/projects/999 — should show 404
  </verify>
  <done>
    Project cards on main page link to detail pages. Stub translations render on all 3 project detail pages in both Korean and English. Navigation between projects works. Invalid IDs return 404.
  </done>
</task>

</tasks>

<verification>
1. `npx next build` completes without errors
2. All 3 project detail pages render at /ko/projects/1, /ko/projects/2, /ko/projects/3
3. Project cards on main page navigate to correct detail pages
4. Breadcrumbs show: Home > Projects > [Project Name]
5. Sidebar shows role, team size, duration, tech stack
6. Prev/next navigation works correctly (project 1 has no prev, project 3 has no next)
7. /ko/projects/999 returns 404
8. Language switch works on detail pages
9. Mobile layout stacks sidebar above content
10. Fade-in animation plays on page load
</verification>

<success_criteria>
- Dynamic route /[locale]/projects/[id] renders for all 3 projects in both locales
- Project cards on main page link to detail pages via next-intl Link
- All components (hero, sidebar, content, breadcrumbs, navigation) render without errors
- Page structure is responsive (sidebar sticky on desktop, stacked on mobile)
- Invalid project IDs return 404
- Stub translations present — ready for Plan 04-02 to fill in full content
</success_criteria>

<output>
After completion, create `.planning/phases/04-project-detail-pages/04-01-SUMMARY.md`
</output>
