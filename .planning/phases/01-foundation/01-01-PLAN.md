---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - next.config.ts
  - postcss.config.mjs
  - tsconfig.json
  - package.json
  - src/app/globals.css
  - src/app/layout.tsx
  - src/app/page.tsx
  - src/i18n/routing.ts
  - src/i18n/request.ts
  - src/i18n/navigation.ts
  - proxy.ts
  - messages/ko.json
  - messages/en.json
  - src/app/[locale]/layout.tsx
  - src/app/[locale]/page.tsx
autonomous: true

must_haves:
  truths:
    - "Next.js dev server starts without errors"
    - "Tailwind design tokens (colors, fonts, spacing) are defined and usable in components"
    - "/ko and /en routes are accessible and serve locale-specific content"
    - "next-intl translations load correctly for both locales"
  artifacts:
    - path: "next.config.ts"
      provides: "Next.js configuration with next-intl plugin"
      contains: "withNextIntl"
    - path: "proxy.ts"
      provides: "Locale routing middleware"
      contains: "createMiddleware"
    - path: "src/i18n/routing.ts"
      provides: "Locale configuration"
      contains: "defineRouting"
    - path: "src/i18n/request.ts"
      provides: "Request-scoped i18n config"
      contains: "getRequestConfig"
    - path: "src/i18n/navigation.ts"
      provides: "Wrapped navigation utilities"
      contains: "createNavigation"
    - path: "src/app/globals.css"
      provides: "Tailwind imports and design tokens"
      contains: "@theme"
    - path: "messages/ko.json"
      provides: "Korean translation strings"
    - path: "messages/en.json"
      provides: "English translation strings"
    - path: "src/app/[locale]/layout.tsx"
      provides: "Root layout with locale, html lang, NextIntlClientProvider"
      contains: "NextIntlClientProvider"
    - path: "src/app/[locale]/page.tsx"
      provides: "Home page using translations"
      contains: "useTranslations"
  key_links:
    - from: "proxy.ts"
      to: "src/i18n/routing.ts"
      via: "import routing config for middleware"
      pattern: "import.*routing"
    - from: "src/app/[locale]/layout.tsx"
      to: "next-intl"
      via: "NextIntlClientProvider wrapping children"
      pattern: "NextIntlClientProvider"
    - from: "src/app/[locale]/page.tsx"
      to: "next-intl"
      via: "useTranslations hook for content"
      pattern: "useTranslations"
    - from: "next.config.ts"
      to: "next-intl/plugin"
      via: "createNextIntlPlugin wrapping config"
      pattern: "createNextIntlPlugin"
---

<objective>
Scaffold the Next.js project, configure Tailwind CSS v4 design tokens, and set up next-intl internationalization infrastructure with Korean/English locale routing.

Purpose: Establish the complete technical foundation so subsequent plans can build UI components and pages on a working bilingual, styled framework.
Output: A running Next.js dev server with Tailwind design system, locale routing (/ko, /en), and translation infrastructure ready for content.
</objective>

<execution_context>
@/Users/hipark/.claude/get-shit-done/workflows/execute-plan.md
@/Users/hipark/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Scaffold Next.js project and configure Tailwind v4 design tokens</name>
  <files>
    package.json
    next.config.ts
    postcss.config.mjs
    tsconfig.json
    src/app/globals.css
    src/app/layout.tsx
    src/app/page.tsx
  </files>
  <action>
    1. Run `npx create-next-app@latest . --typescript --tailwind --eslint --app --src-dir --turbopack --import-alias "@/*"` in the project directory. If prompted about existing files, accept overwrite (the directory only has PDFs and .planning).

    2. Install next-intl: `npm install next-intl`

    3. Configure Tailwind v4 design tokens in `src/app/globals.css`. Replace the default Tailwind config with:
       - Use `@import "tailwindcss";` (NOT @tailwind directives -- v4 breaking change)
       - Add `@theme` block with design tokens:
         - Font family: `--font-sans: "Pretendard Variable", "Pretendard", -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;`
         - Colors -- neutral palette for minimal portfolio:
           - `--color-neutral-50` through `--color-neutral-950` (gray scale)
           - `--color-primary-500: oklch(0.55 0.15 250);` (subtle blue accent)
           - `--color-primary-600: oklch(0.48 0.16 250);`
         - Spacing scale: use Tailwind defaults (no custom overrides needed)
         - Typography sizes: use Tailwind defaults
       - Keep any useful base styles (antialiased text, box-border)
       - Add `@font-face` for Pretendard Variable via CDN: `https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css`

    4. Update `next.config.ts` to use next-intl plugin:
       ```typescript
       import createNextIntlPlugin from 'next-intl/plugin';
       const withNextIntl = createNextIntlPlugin();
       export default withNextIntl({});
       ```

    IMPORTANT: Do NOT use `tailwind.config.ts` or `tailwind.config.js` -- Tailwind v4 uses CSS-first configuration via @theme blocks in globals.css. If create-next-app generates a JS config, delete it.
  </action>
  <verify>
    Run `npm run dev` and confirm the dev server starts without errors. Check that `http://localhost:3000` loads (may redirect to /ko once i18n is set up in next task). Verify no tailwind.config.js/ts file exists (v4 uses CSS config only).
  </verify>
  <done>
    Next.js dev server runs. Tailwind v4 design tokens (font-sans, color-primary-*, color-neutral-*) are defined in globals.css via @theme block. Pretendard font loads from CDN. next-intl package is installed. next.config.ts uses createNextIntlPlugin.
  </done>
</task>

<task type="auto">
  <name>Task 2: Set up next-intl i18n infrastructure with locale routing</name>
  <files>
    src/i18n/routing.ts
    src/i18n/request.ts
    src/i18n/navigation.ts
    proxy.ts
    messages/ko.json
    messages/en.json
    src/app/[locale]/layout.tsx
    src/app/[locale]/page.tsx
  </files>
  <action>
    1. Create `src/i18n/routing.ts`:
       ```typescript
       import {defineRouting} from 'next-intl/routing';

       export const routing = defineRouting({
         locales: ['ko', 'en'],
         defaultLocale: 'ko'
       });
       ```

    2. Create `proxy.ts` at PROJECT ROOT (NOT in src/ -- this is critical):
       ```typescript
       import createMiddleware from 'next-intl/middleware';
       import {routing} from './src/i18n/routing';

       export default createMiddleware(routing);

       export const config = {
         matcher: ['/((?!api|_next|_vercel|.*\\..*).*)']
       };
       ```

    3. Create `src/i18n/request.ts`:
       ```typescript
       import {getRequestConfig} from 'next-intl/server';
       import {routing} from './routing';

       export default getRequestConfig(async ({requestLocale}) => {
         let locale = await requestLocale;
         if (!locale || !routing.locales.includes(locale as any)) {
           locale = routing.defaultLocale;
         }
         return {
           locale,
           messages: (await import(`../../messages/${locale}.json`)).default
         };
       });
       ```

    4. Create `src/i18n/navigation.ts`:
       ```typescript
       import {createNavigation} from 'next-intl/navigation';
       import {routing} from './routing';

       export const {Link, redirect, usePathname, useRouter, getPathname} = createNavigation(routing);
       ```

    5. Create `messages/ko.json` with initial structure:
       ```json
       {
         "Home": {
           "title": "박훈일",
           "subtitle": "프론트엔드 개발자",
           "description": "깔끔하고 정교한 웹 경험을 만듭니다"
         },
         "Navigation": {
           "home": "홈",
           "about": "소개",
           "skills": "기술",
           "projects": "프로젝트",
           "experience": "경력",
           "education": "학력",
           "contact": "연락처"
         },
         "Common": {
           "language": "EN",
           "languageLabel": "English로 전환"
         }
       }
       ```

    6. Create `messages/en.json` with matching structure:
       ```json
       {
         "Home": {
           "title": "Hunil Park",
           "subtitle": "Frontend Developer",
           "description": "Crafting clean and refined web experiences"
         },
         "Navigation": {
           "home": "Home",
           "about": "About",
           "skills": "Skills",
           "projects": "Projects",
           "experience": "Experience",
           "education": "Education",
           "contact": "Contact"
         },
         "Common": {
           "language": "KO",
           "languageLabel": "Switch to Korean"
         }
       }
       ```

    7. Create `src/app/[locale]/layout.tsx`:
       - Import `NextIntlClientProvider` from 'next-intl'
       - Import `getMessages, setRequestLocale` from 'next-intl/server'
       - Import `routing` from '@/i18n/routing'
       - Import globals.css
       - Export `generateStaticParams` returning routing.locales mapped to {locale}
       - The layout function must:
         - Receive `params` as a Promise (Next.js 16 async API -- MUST await params)
         - Call `setRequestLocale(locale)` for static rendering support
         - Call `const messages = await getMessages()`
         - Set `<html lang={locale}>`
         - Apply Pretendard font via className on body
         - Wrap children in `<NextIntlClientProvider messages={messages}>`
       - Export metadata with title "박훈일 | Frontend Developer" and appropriate description

    8. Create `src/app/[locale]/page.tsx`:
       - Import `useTranslations` from 'next-intl'
       - Import `setRequestLocale` from 'next-intl/server'
       - Make it a server component (no 'use client')
       - Await params (Next.js 16 async API)
       - Call `setRequestLocale(locale)`
       - Use `useTranslations('Home')` to render title, subtitle, and description
       - Simple centered layout using Tailwind: flex column, items-center, justify-center, min-h-screen
       - Use the design tokens: text-neutral-900 for title, text-neutral-600 for subtitle, text-primary-500 for accent

    9. Remove or redirect the original `src/app/layout.tsx` and `src/app/page.tsx` created by scaffold. The [locale] versions replace them. Keep a minimal root layout.tsx if needed, or remove if Next.js handles it through the [locale] segment.

    IMPORTANT:
    - In Next.js 16, ALL params are Promises. Always use `const {locale} = await params;`
    - proxy.ts MUST be at project root, not in src/
    - Call setRequestLocale() in every page/layout for static rendering
  </action>
  <verify>
    1. Run `npm run dev`
    2. Visit `http://localhost:3000` -- should redirect to `/ko`
    3. Visit `http://localhost:3000/ko` -- should show Korean content (박훈일, 프론트엔드 개발자)
    4. Visit `http://localhost:3000/en` -- should show English content (Hunil Park, Frontend Developer)
    5. Run `npm run build` to verify no build errors and static generation works
  </verify>
  <done>
    Both /ko and /en routes serve locale-appropriate content. next-intl routing, middleware, request config, and navigation utilities are all wired. Translation files exist for both locales. Static rendering works (setRequestLocale called in all pages/layouts). Dev server and build complete without errors.
  </done>
</task>

</tasks>

<verification>
1. `npm run dev` starts without errors
2. `http://localhost:3000` redirects to `/ko`
3. `/ko` renders Korean text using Pretendard font
4. `/en` renders English text
5. `npm run build` succeeds with static generation
6. No tailwind.config.js/ts exists (v4 CSS-only config)
7. Design tokens visible in globals.css @theme block
</verification>

<success_criteria>
- Next.js 16 project scaffold with TypeScript, Tailwind v4, ESLint
- Tailwind design tokens (colors, font) configured via CSS @theme block
- next-intl fully wired: routing.ts, proxy.ts, request.ts, navigation.ts
- /ko and /en routes serve correct bilingual content
- Both `npm run dev` and `npm run build` succeed
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
