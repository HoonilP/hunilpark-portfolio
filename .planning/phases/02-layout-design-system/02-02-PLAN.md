---
phase: 02-layout-design-system
plan: 02
type: execute
wave: 2
depends_on: ["02-01"]
files_modified:
  - src/components/layout/Header.tsx
  - src/components/layout/Footer.tsx
  - src/app/[locale]/layout.tsx
  - src/app/[locale]/page.tsx
  - messages/ko.json
  - messages/en.json
autonomous: false

must_haves:
  truths:
    - "User sees sticky header with navigation links on all pages"
    - "User can switch language via header toggle button"
    - "User can toggle dark/light mode via header button"
    - "User sees footer with contact links (email, GitHub, Velog) on all pages"
    - "Header shows hamburger menu on mobile, full nav on desktop"
    - "Dark mode persists across page refresh"
  artifacts:
    - path: "src/components/layout/Header.tsx"
      provides: "Site header with navigation, language toggle, theme toggle"
      contains: "LanguageToggle"
    - path: "src/components/layout/Footer.tsx"
      provides: "Site footer with contact links"
      contains: "phoonil0927@gmail.com"
    - path: "src/app/[locale]/layout.tsx"
      provides: "Layout wrapper with Header, Footer, ThemeProvider"
      contains: "ThemeProvider"
  key_links:
    - from: "src/app/[locale]/layout.tsx"
      to: "src/components/layout/ThemeProvider.tsx"
      via: "wraps NextIntlClientProvider children"
      pattern: "ThemeProvider"
    - from: "src/app/[locale]/layout.tsx"
      to: "src/components/layout/Header.tsx"
      via: "renders above main content"
      pattern: "<Header"
    - from: "src/app/[locale]/layout.tsx"
      to: "src/components/layout/Footer.tsx"
      via: "renders below main content"
      pattern: "<Footer"
    - from: "src/components/layout/Header.tsx"
      to: "src/components/LanguageToggle.tsx"
      via: "import and render in header actions"
      pattern: "LanguageToggle"
---

<objective>
Create Header (with navigation, language toggle, theme toggle, mobile hamburger menu) and Footer (with contact links), then integrate both into the locale layout with ThemeProvider.

Purpose: Deliver consistent site-wide navigation and footer across all pages. This completes the Phase 2 layout structure and makes the portfolio feel like a real, navigable site.
Output: Header.tsx, Footer.tsx, updated locale layout wrapping everything with ThemeProvider, updated page.tsx without inline toggle/footer.
</objective>

<execution_context>
@/Users/hipark/.claude/get-shit-done/workflows/execute-plan.md
@/Users/hipark/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-layout-design-system/02-CONTEXT.md
@.planning/phases/02-layout-design-system/02-RESEARCH.md
@.planning/phases/02-layout-design-system/02-01-SUMMARY.md
@.planning/phases/01-foundation/01-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Header and Footer components</name>
  <files>
    src/components/layout/Header.tsx
    src/components/layout/Footer.tsx
    messages/ko.json
    messages/en.json
  </files>
  <action>
1. Create `src/components/layout/Header.tsx`:
   - 'use client' directive (uses hooks for mobile menu state and translations)
   - Import LanguageToggle from `@/components/LanguageToggle`
   - Import ThemeToggle from `@/components/layout/ThemeToggle`
   - Import `useTranslations` from `next-intl`
   - Sticky header: `sticky top-0 z-50 bg-white/80 dark:bg-neutral-950/80 backdrop-blur-sm border-b border-neutral-200 dark:border-neutral-800`
   - Inner container: `max-w-5xl mx-auto px-4 sm:px-6 h-16 flex items-center justify-between`
   - Left: Logo/name as link to "/" — use `t('Navigation.home')` or just the name "HI" or initials. Keep it minimal — a simple text logo like "HI." (Hunil's initials) in font-bold.
   - Center/Right desktop nav: `hidden md:flex items-center gap-6` with anchor links: #about, #skills, #projects, #experience, #education, #contact. Use `t('Navigation.about')` etc. for labels. Style: `text-sm text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-100 transition-colors`
   - Right actions: `flex items-center gap-2` with ThemeToggle and LanguageToggle
   - Mobile hamburger: `md:hidden` button with hamburger SVG icon (3 horizontal lines). Use `useState` for `isMenuOpen`.
   - Mobile menu: When isMenuOpen, render a full-width panel below header with nav links stacked vertically. Style: `md:hidden border-b border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-950 px-4 py-4`. Each link: `block py-2 text-base text-neutral-700 dark:text-neutral-300`. Close menu when a link is clicked.
   - Hamburger icon transforms to X icon when menu is open (simple conditional SVG)
   - ARIA: `aria-label="Toggle menu"`, `aria-expanded={isMenuOpen}` on hamburger button

2. Create `src/components/layout/Footer.tsx`:
   - Server component (no hooks needed — uses static content)
   - Import `getTranslations` from `next-intl/server` (async server component)
   - Wait — Footer needs translations so it could be server component with getTranslations OR client with useTranslations. Since it's inside NextIntlClientProvider, using useTranslations as client component is simpler and consistent. Make it a CLIENT component with 'use client'.
   - Use `useTranslations('Footer')` for translated text
   - Container: `border-t border-neutral-200 dark:border-neutral-800`
   - Inner: `max-w-5xl mx-auto px-4 sm:px-6 py-8 sm:py-12`
   - Layout: Two rows. Top row has contact links. Bottom row has copyright.
   - Contact links (from PROJECT.md):
     - Email: phoonil0927@gmail.com (mailto: link)
     - GitHub: https://github.com/HoonilP
     - Velog: https://velog.io/@hoonilpark
   - Links styled as: `text-sm text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-100 transition-colors`
   - Use `flex flex-wrap gap-4 sm:gap-6 justify-center` for link group
   - Copyright: `mt-6 text-center text-xs text-neutral-400 dark:text-neutral-500` with `© 2026 {t('copyright')}`
   - External links get `target="_blank" rel="noopener noreferrer"`

3. Add translation keys to `messages/ko.json`:
   ```json
   "Footer": {
     "email": "이메일",
     "github": "GitHub",
     "velog": "Velog",
     "copyright": "박훈일. All rights reserved."
   }
   ```

4. Add translation keys to `messages/en.json`:
   ```json
   "Footer": {
     "email": "Email",
     "github": "GitHub",
     "velog": "Velog",
     "copyright": "Hunil Park. All rights reserved."
   }
   ```

IMPORTANT: When editing messages/*.json, preserve ALL existing keys (Home, Navigation, Common). Only ADD the Footer section. Read the file first to ensure nothing is lost.
  </action>
  <verify>
    - `npm run build` succeeds
    - Header.tsx exists with sticky positioning, nav links, ThemeToggle, LanguageToggle, mobile menu
    - Footer.tsx exists with contact links (email, GitHub, Velog) and copyright
    - messages/ko.json has Footer section with email, github, velog, copyright keys
    - messages/en.json has Footer section with same keys in English
    - `grep "LanguageToggle" src/components/layout/Header.tsx` confirms import
    - `grep "ThemeToggle" src/components/layout/Header.tsx` confirms import
  </verify>
  <done>
    - Header renders sticky with backdrop blur, logo, desktop nav (6 section links), ThemeToggle, LanguageToggle
    - Mobile hamburger menu toggles open/close with animated icon
    - Footer renders contact links (email, GitHub, Velog) and copyright
    - All text is bilingual via translation keys
  </done>
</task>

<task type="auto">
  <name>Task 2: Integrate Header, Footer, and ThemeProvider into locale layout</name>
  <files>
    src/app/[locale]/layout.tsx
    src/app/[locale]/page.tsx
  </files>
  <action>
1. Update `src/app/[locale]/layout.tsx`:
   - Add `suppressHydrationWarning` to `<html>` tag (required for next-themes to prevent hydration mismatch)
   - Import ThemeProvider from `@/components/layout/ThemeProvider`
   - Import Header from `@/components/layout/Header`
   - Import Footer from `@/components/layout/Footer`
   - Wrap the content inside NextIntlClientProvider with ThemeProvider:
     ```tsx
     <NextIntlClientProvider messages={messages}>
       <ThemeProvider>
         <Header />
         <main className="flex-1">{children}</main>
         <Footer />
       </ThemeProvider>
     </NextIntlClientProvider>
     ```
   - Update body className: `font-sans bg-white dark:bg-neutral-950 text-neutral-900 dark:text-neutral-100 antialiased min-h-screen flex flex-col`
   - The `min-h-screen flex flex-col` on body + `flex-1` on main ensures footer sticks to bottom on short pages

2. Update `src/app/[locale]/page.tsx`:
   - REMOVE the inline LanguageToggle import and the `<div className="flex justify-end p-4..."><LanguageToggle /></div>` block (now in Header)
   - REMOVE the inline `<footer>` element (now in layout Footer)
   - REMOVE the `<main>` wrapper (layout now provides `<main>`)
   - Keep the center content section but simplify — this is now just page content inside `<main>`:
     ```tsx
     <div className="flex-1 flex flex-col items-center justify-center px-4 sm:px-6 lg:px-8 py-16 sm:py-24">
       <h1 ...>{t('title')}</h1>
       <p ...>{t('subtitle')}</p>
       <p ...>{t('description')}</p>
       <div className="mt-6 w-12 h-px bg-neutral-300 dark:bg-neutral-700"></div>
       <p ...>{t('comingSoon')}</p>
     </div>
     ```
   - Add `dark:` variants to all color classes in page content:
     - `text-neutral-900` → `text-neutral-900 dark:text-neutral-100`
     - `text-neutral-500` → `text-neutral-500 dark:text-neutral-400`
     - `text-neutral-600` → `text-neutral-600 dark:text-neutral-400`
     - `text-neutral-400` → `text-neutral-400 dark:text-neutral-500`
     - `bg-neutral-300` → `bg-neutral-300 dark:bg-neutral-700`
   - Remove LanguageToggle import (no longer needed on page)
  </action>
  <verify>
    - `npm run build` succeeds
    - `grep "ThemeProvider" src/app/[locale]/layout.tsx` confirms integration
    - `grep "Header" src/app/[locale]/layout.tsx` confirms header in layout
    - `grep "Footer" src/app/[locale]/layout.tsx` confirms footer in layout
    - `grep "suppressHydrationWarning" src/app/[locale]/layout.tsx` confirms hydration fix
    - `grep "LanguageToggle" src/app/[locale]/page.tsx` returns nothing (removed from page)
    - `grep "<footer" src/app/[locale]/page.tsx` returns nothing (removed from page)
    - `npm run dev` shows header at top and footer at bottom
  </verify>
  <done>
    - Locale layout wraps all content with ThemeProvider, Header, and Footer
    - Page no longer has inline LanguageToggle or footer (moved to layout)
    - Body supports dark mode via dark: classes
    - suppressHydrationWarning prevents theme hydration mismatch
    - Footer sticks to bottom on short pages via flex layout
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete layout system with:
    - Sticky header with navigation links, dark mode toggle, language toggle, mobile hamburger menu
    - Footer with contact links (email, GitHub, Velog) and copyright
    - Dark mode support (light/dark/system) with no flash on load
    - All UI components (Button, Card, Badge, Timeline) created
  </what-built>
  <how-to-verify>
    1. Run `npm run dev` and open http://localhost:3000
    2. Verify header appears with navigation links, theme toggle (sun/moon), and language toggle (EN/KO)
    3. Click the theme toggle — page should switch between light and dark mode smoothly
    4. Refresh the page — dark mode preference should persist
    5. Click the language toggle — verify it switches between Korean and English (header nav, footer)
    6. Resize browser to mobile width (~375px) — verify hamburger menu appears
    7. Click hamburger — verify mobile nav panel opens with all section links
    8. Scroll down — verify header remains sticky at top
    9. Verify footer shows email, GitHub, Velog links and copyright text
    10. Click GitHub and Velog links — verify they open in new tabs
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
1. `npm run build` succeeds with zero errors
2. Header visible on all pages with navigation, language toggle, theme toggle
3. Footer visible on all pages with email, GitHub, Velog links
4. Dark mode toggles without flash, persists across refresh
5. Mobile hamburger menu opens/closes, shows nav links
6. Language toggle works from header position
7. All UI components (Button, Card, Badge, Timeline) exist in src/components/ui/
8. Translation files have Footer section in both ko and en
</verification>

<success_criteria>
- Consistent header with navigation appears on every page
- Language toggle in header switches between Korean and English
- Theme toggle in header switches between light and dark mode
- Footer shows contact links (email, GitHub, Velog) on every page
- Mobile responsive: hamburger menu on small screens
- No hydration mismatch or theme flash on page load
- All reusable UI components (Button, Card, Badge, Timeline) importable from @/components/ui
</success_criteria>

<output>
After completion, create `.planning/phases/02-layout-design-system/02-02-SUMMARY.md`
</output>
